{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../contacts.service\";\nimport * as i2 from \"../../api-authorization/authorize.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/router\";\n\nconst _c0 = function () {\n  return [\"/contacts/add\"];\n};\n\nfunction ContactsComponent_button_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"button\", 2);\n    i0.ɵɵtext(1, \"Add new contact\");\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(1, _c0));\n  }\n}\n\nconst _c1 = function (a1) {\n  return [\"/contacts/edit/\", a1];\n};\n\nfunction ContactsComponent_div_5_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelementStart(1, \"button\", 2);\n    i0.ɵɵtext(2, \"Edit\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const contact_r2 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(1, _c1, contact_r2.id));\n  }\n}\n\nfunction ContactsComponent_div_5_table_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"table\");\n    i0.ɵɵelementStart(1, \"tr\");\n    i0.ɵɵelementStart(2, \"th\");\n    i0.ɵɵtext(3, \"First name\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"td\");\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"tr\");\n    i0.ɵɵelementStart(7, \"th\");\n    i0.ɵɵtext(8, \"Last name\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\");\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"tr\");\n    i0.ɵɵelementStart(12, \"th\");\n    i0.ɵɵtext(13, \"Email\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"td\");\n    i0.ɵɵtext(15);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"tr\");\n    i0.ɵɵelementStart(17, \"th\");\n    i0.ɵɵtext(18, \"Category\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(19, \"td\");\n    i0.ɵɵtext(20);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(21, \"tr\");\n    i0.ɵɵelementStart(22, \"th\");\n    i0.ɵɵtext(23, \"Subcategory\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(24, \"td\");\n    i0.ɵɵtext(25);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(26, \"tr\");\n    i0.ɵɵelementStart(27, \"th\");\n    i0.ɵɵtext(28, \"Phone number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(29, \"td\");\n    i0.ɵɵtext(30);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(31, \"tr\");\n    i0.ɵɵelementStart(32, \"th\");\n    i0.ɵɵtext(33, \"Date of birth\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(34, \"td\");\n    i0.ɵɵtext(35);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const contact_r2 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(contact_r2.firstName);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(contact_r2.lastName);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(contact_r2.email);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(contact_r2.category.categoryName);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(contact_r2.subcategory.subcategoryName);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(contact_r2.phoneNumber);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(contact_r2.dateOfBirth);\n  }\n}\n\nfunction ContactsComponent_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r8 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 3);\n    i0.ɵɵelementStart(1, \"div\", 4);\n    i0.ɵɵlistener(\"click\", function ContactsComponent_div_5_Template_div_click_1_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r8);\n      const contact_r2 = restoredCtx.$implicit;\n      const ctx_r7 = i0.ɵɵnextContext();\n      return ctx_r7.toggleExpand(contact_r2);\n    });\n    i0.ɵɵelementStart(2, \"div\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 5);\n    i0.ɵɵtemplate(5, ContactsComponent_div_5_div_5_Template, 3, 3, \"div\", 6);\n    i0.ɵɵpipe(6, \"async\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"div\");\n    i0.ɵɵtemplate(8, ContactsComponent_div_5_table_8_Template, 36, 7, \"table\", 6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const contact_r2 = ctx.$implicit;\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate2(\"\", contact_r2.firstName, \" \", contact_r2.lastName, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(6, 4, ctx_r1.isAuthenticated));\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.expanded.get(contact_r2));\n  }\n}\n\nexport class ContactsComponent {\n  constructor(contactsService, authorizeService) {\n    this.contactsService = contactsService;\n    this.authorizeService = authorizeService;\n    this.expanded = new Map();\n  }\n\n  ngOnInit() {\n    this.isAuthenticated = this.authorizeService.isAuthenticated();\n    this.updateContactsList();\n  } //delete(id: number) {\n  //  this.contactsService.removeContact(id).then(() => this.updateContactsList())\n  //    .catch((error) => {\n  //      console.error('delete contact error ' + error);\n  //    });\n  //}\n\n\n  toggleExpand(contact) {\n    if (this.expanded.get(contact)) this.expanded.set(contact, false);else this.expanded.set(contact, true);\n  }\n\n  updateContactsList() {\n    this.contactsService.getAllContacts().then(retrievedData => {\n      this.contactsData = retrievedData;\n      this.clearExpanded();\n    }).catch(error => {\n      console.error('fetch contacts error ' + error);\n    });\n  }\n\n  clearExpanded() {\n    this.expanded.clear();\n\n    for (let contact of this.contactsData) {\n      this.expanded.set(contact, false);\n    }\n  }\n\n}\n\nContactsComponent.ɵfac = function ContactsComponent_Factory(t) {\n  return new (t || ContactsComponent)(i0.ɵɵdirectiveInject(i1.ContactsService), i0.ɵɵdirectiveInject(i2.AuthorizeService));\n};\n\nContactsComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ContactsComponent,\n  selectors: [[\"app-contacts\"]],\n  decls: 6,\n  vars: 4,\n  consts: [[3, \"routerLink\", 4, \"ngIf\"], [\"class\", \"contactDiv\", 4, \"ngFor\", \"ngForOf\"], [3, \"routerLink\"], [1, \"contactDiv\"], [1, \"expandableDiv\", 3, \"click\"], [1, \"buttonsDiv\"], [4, \"ngIf\"]],\n  template: function ContactsComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"p\");\n      i0.ɵɵtext(1, \"Contacts list\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(2, ContactsComponent_button_2_Template, 2, 2, \"button\", 0);\n      i0.ɵɵpipe(3, \"async\");\n      i0.ɵɵelement(4, \"br\");\n      i0.ɵɵtemplate(5, ContactsComponent_div_5_Template, 9, 6, \"div\", 1);\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(3, 2, ctx.isAuthenticated));\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngForOf\", ctx.contactsData);\n    }\n  },\n  directives: [i3.NgIf, i3.NgForOf, i4.RouterLink],\n  pipes: [i3.AsyncPipe],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJjb250YWN0cy5jb21wb25lbnQuY3NzIn0= */\"]\n});","map":{"version":3,"sources":["C:/Users/smyko/source/repos/excersiseProjects/NetPC/ContactsList/ClientApp/src/app/contacts/contacts.component.ts"],"names":["i0","i1","i2","i3","i4","_c0","ContactsComponent_button_2_Template","rf","ctx","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵproperty","ɵɵpureFunction0","_c1","a1","ContactsComponent_div_5_div_5_Template","contact_r2","ɵɵnextContext","$implicit","ɵɵadvance","ɵɵpureFunction1","id","ContactsComponent_div_5_table_8_Template","ɵɵtextInterpolate","firstName","lastName","email","category","categoryName","subcategory","subcategoryName","phoneNumber","dateOfBirth","ContactsComponent_div_5_Template","_r8","ɵɵgetCurrentView","ɵɵlistener","ContactsComponent_div_5_Template_div_click_1_listener","restoredCtx","ɵɵrestoreView","ctx_r7","toggleExpand","ɵɵtemplate","ɵɵpipe","ctx_r1","ɵɵtextInterpolate2","ɵɵpipeBind1","isAuthenticated","expanded","get","ContactsComponent","constructor","contactsService","authorizeService","Map","ngOnInit","updateContactsList","contact","set","getAllContacts","then","retrievedData","contactsData","clearExpanded","catch","error","console","clear","ɵfac","ContactsComponent_Factory","t","ɵɵdirectiveInject","ContactsService","AuthorizeService","ɵcmp","ɵɵdefineComponent","type","selectors","decls","vars","consts","template","ContactsComponent_Template","ɵɵelement","directives","NgIf","NgForOf","RouterLink","pipes","AsyncPipe","styles"],"mappings":"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","sourcesContent":["import * as i0 from \"@angular/core\";\r\nimport * as i1 from \"../contacts.service\";\r\nimport * as i2 from \"../../api-authorization/authorize.service\";\r\nimport * as i3 from \"@angular/common\";\r\nimport * as i4 from \"@angular/router\";\r\nconst _c0 = function () { return [\"/contacts/add\"]; };\r\nfunction ContactsComponent_button_2_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementStart(0, \"button\", 2);\r\n    i0.ɵɵtext(1, \"Add new contact\");\r\n    i0.ɵɵelementEnd();\r\n} if (rf & 2) {\r\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(1, _c0));\r\n} }\r\nconst _c1 = function (a1) { return [\"/contacts/edit/\", a1]; };\r\nfunction ContactsComponent_div_5_div_5_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementStart(0, \"div\");\r\n    i0.ɵɵelementStart(1, \"button\", 2);\r\n    i0.ɵɵtext(2, \"Edit\");\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementEnd();\r\n} if (rf & 2) {\r\n    const contact_r2 = i0.ɵɵnextContext().$implicit;\r\n    i0.ɵɵadvance(1);\r\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(1, _c1, contact_r2.id));\r\n} }\r\nfunction ContactsComponent_div_5_table_8_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementStart(0, \"table\");\r\n    i0.ɵɵelementStart(1, \"tr\");\r\n    i0.ɵɵelementStart(2, \"th\");\r\n    i0.ɵɵtext(3, \"First name\");\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(4, \"td\");\r\n    i0.ɵɵtext(5);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(6, \"tr\");\r\n    i0.ɵɵelementStart(7, \"th\");\r\n    i0.ɵɵtext(8, \"Last name\");\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(9, \"td\");\r\n    i0.ɵɵtext(10);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(11, \"tr\");\r\n    i0.ɵɵelementStart(12, \"th\");\r\n    i0.ɵɵtext(13, \"Email\");\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(14, \"td\");\r\n    i0.ɵɵtext(15);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(16, \"tr\");\r\n    i0.ɵɵelementStart(17, \"th\");\r\n    i0.ɵɵtext(18, \"Category\");\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(19, \"td\");\r\n    i0.ɵɵtext(20);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(21, \"tr\");\r\n    i0.ɵɵelementStart(22, \"th\");\r\n    i0.ɵɵtext(23, \"Subcategory\");\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(24, \"td\");\r\n    i0.ɵɵtext(25);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(26, \"tr\");\r\n    i0.ɵɵelementStart(27, \"th\");\r\n    i0.ɵɵtext(28, \"Phone number\");\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(29, \"td\");\r\n    i0.ɵɵtext(30);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(31, \"tr\");\r\n    i0.ɵɵelementStart(32, \"th\");\r\n    i0.ɵɵtext(33, \"Date of birth\");\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(34, \"td\");\r\n    i0.ɵɵtext(35);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementEnd();\r\n} if (rf & 2) {\r\n    const contact_r2 = i0.ɵɵnextContext().$implicit;\r\n    i0.ɵɵadvance(5);\r\n    i0.ɵɵtextInterpolate(contact_r2.firstName);\r\n    i0.ɵɵadvance(5);\r\n    i0.ɵɵtextInterpolate(contact_r2.lastName);\r\n    i0.ɵɵadvance(5);\r\n    i0.ɵɵtextInterpolate(contact_r2.email);\r\n    i0.ɵɵadvance(5);\r\n    i0.ɵɵtextInterpolate(contact_r2.category.categoryName);\r\n    i0.ɵɵadvance(5);\r\n    i0.ɵɵtextInterpolate(contact_r2.subcategory.subcategoryName);\r\n    i0.ɵɵadvance(5);\r\n    i0.ɵɵtextInterpolate(contact_r2.phoneNumber);\r\n    i0.ɵɵadvance(5);\r\n    i0.ɵɵtextInterpolate(contact_r2.dateOfBirth);\r\n} }\r\nfunction ContactsComponent_div_5_Template(rf, ctx) { if (rf & 1) {\r\n    const _r8 = i0.ɵɵgetCurrentView();\r\n    i0.ɵɵelementStart(0, \"div\", 3);\r\n    i0.ɵɵelementStart(1, \"div\", 4);\r\n    i0.ɵɵlistener(\"click\", function ContactsComponent_div_5_Template_div_click_1_listener() { const restoredCtx = i0.ɵɵrestoreView(_r8); const contact_r2 = restoredCtx.$implicit; const ctx_r7 = i0.ɵɵnextContext(); return ctx_r7.toggleExpand(contact_r2); });\r\n    i0.ɵɵelementStart(2, \"div\");\r\n    i0.ɵɵtext(3);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(4, \"div\", 5);\r\n    i0.ɵɵtemplate(5, ContactsComponent_div_5_div_5_Template, 3, 3, \"div\", 6);\r\n    i0.ɵɵpipe(6, \"async\");\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(7, \"div\");\r\n    i0.ɵɵtemplate(8, ContactsComponent_div_5_table_8_Template, 36, 7, \"table\", 6);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementEnd();\r\n} if (rf & 2) {\r\n    const contact_r2 = ctx.$implicit;\r\n    const ctx_r1 = i0.ɵɵnextContext();\r\n    i0.ɵɵadvance(3);\r\n    i0.ɵɵtextInterpolate2(\"\", contact_r2.firstName, \" \", contact_r2.lastName, \"\");\r\n    i0.ɵɵadvance(2);\r\n    i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(6, 4, ctx_r1.isAuthenticated));\r\n    i0.ɵɵadvance(3);\r\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.expanded.get(contact_r2));\r\n} }\r\nexport class ContactsComponent {\r\n    constructor(contactsService, authorizeService) {\r\n        this.contactsService = contactsService;\r\n        this.authorizeService = authorizeService;\r\n        this.expanded = new Map();\r\n    }\r\n    ngOnInit() {\r\n        this.isAuthenticated = this.authorizeService.isAuthenticated();\r\n        this.updateContactsList();\r\n    }\r\n    //delete(id: number) {\r\n    //  this.contactsService.removeContact(id).then(() => this.updateContactsList())\r\n    //    .catch((error) => {\r\n    //      console.error('delete contact error ' + error);\r\n    //    });\r\n    //}\r\n    toggleExpand(contact) {\r\n        if (this.expanded.get(contact))\r\n            this.expanded.set(contact, false);\r\n        else\r\n            this.expanded.set(contact, true);\r\n    }\r\n    updateContactsList() {\r\n        this.contactsService.getAllContacts().then((retrievedData) => {\r\n            this.contactsData = retrievedData;\r\n            this.clearExpanded();\r\n        }).catch((error) => {\r\n            console.error('fetch contacts error ' + error);\r\n        });\r\n    }\r\n    clearExpanded() {\r\n        this.expanded.clear();\r\n        for (let contact of this.contactsData) {\r\n            this.expanded.set(contact, false);\r\n        }\r\n    }\r\n}\r\nContactsComponent.ɵfac = function ContactsComponent_Factory(t) { return new (t || ContactsComponent)(i0.ɵɵdirectiveInject(i1.ContactsService), i0.ɵɵdirectiveInject(i2.AuthorizeService)); };\r\nContactsComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: ContactsComponent, selectors: [[\"app-contacts\"]], decls: 6, vars: 4, consts: [[3, \"routerLink\", 4, \"ngIf\"], [\"class\", \"contactDiv\", 4, \"ngFor\", \"ngForOf\"], [3, \"routerLink\"], [1, \"contactDiv\"], [1, \"expandableDiv\", 3, \"click\"], [1, \"buttonsDiv\"], [4, \"ngIf\"]], template: function ContactsComponent_Template(rf, ctx) { if (rf & 1) {\r\n        i0.ɵɵelementStart(0, \"p\");\r\n        i0.ɵɵtext(1, \"Contacts list\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵtemplate(2, ContactsComponent_button_2_Template, 2, 2, \"button\", 0);\r\n        i0.ɵɵpipe(3, \"async\");\r\n        i0.ɵɵelement(4, \"br\");\r\n        i0.ɵɵtemplate(5, ContactsComponent_div_5_Template, 9, 6, \"div\", 1);\r\n    } if (rf & 2) {\r\n        i0.ɵɵadvance(2);\r\n        i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(3, 2, ctx.isAuthenticated));\r\n        i0.ɵɵadvance(3);\r\n        i0.ɵɵproperty(\"ngForOf\", ctx.contactsData);\r\n    } }, directives: [i3.NgIf, i3.NgForOf, i4.RouterLink], pipes: [i3.AsyncPipe], styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJjb250YWN0cy5jb21wb25lbnQuY3NzIn0= */\"] });\r\n"]},"metadata":{},"sourceType":"module"}